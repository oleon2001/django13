<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UFT-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rastreo // Innovative Tracking Solutions</title>

  <!-- Default Styles (DO NOT TOUCH) -->
  <link rel="stylesheet" href="/static/lib/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/lib/css/bootstrap.min.css">
  <link rel="stylesheet" href="/static/lib/css/fonts.css">
  <link rel="stylesheet" href="/static/lib/css/soft-admin.css"/>

  <!-- Adjustable Styles -->
  <link type="text/css" rel="stylesheet" href="/static/lib/css/morris.css"/>
  <link type="text/css" rel="stylesheet" href="/static/lib/css/colorbox.css"/>
  <link type="text/css" rel="stylesheet" href="/static/lib/css/icheck.css">

  <link rel="stylesheet" href="/static/lib/css/soft-theme-blue.css"/>

  <!-- ADDITIONAL THEMES
  <link rel="stylesheet" href="/static/lib/css/soft-theme-ocean.css"/> // SIMPLE OCEAN THEME
  <link rel="stylesheet" href="/static/lib/css/soft-theme-dark.css"/> // DARK THEME
  <link rel="stylesheet" href="/static/lib/css/soft-theme-light.css"/> // LIGHT THEME
  <link rel="stylesheet" href="/static/lib/css/soft-theme-fixed.css"/> // AFFIXES YOUR SIDEBAR AND NAVIGATION
  -->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
   <script src="/static/lib/js/html5shiv.js"></script>
   <script src="/static/lib/js/respond.min.js"></script>
  <![endif]-->

 </head>
 <body>

  <div class="cntnr">

   <!-- RESPONSIVE LEFT SIDEBAR & LOGO -->
   <div class="left hidden-xs">
    <div class="logo"><img id="logo" src="/static/img/logo.jpg" style="width:159px !important; height:60px; !important"></div>
    <div class="sidebar">
     <div class="accordion">
      <div class="accordion-group">
       <div class="accordion-heading">
        <a class="sbtn btn-default active" href="{{ HOME_URL }}">
         <span class="fa fa-dashboard"></span>
         &nbsp;&nbsp;Inicio
        </a>
       </div>
      </div>
	{%if user.is_staff %}
      <div class="accordion-group">
       <div class="accordion-heading">
        <a class="sbtn btn-default" href="/admin">
         <span class="icon icon-text-width"></span>
         <span class="icon icon-text-width"></span>
         &nbsp;&nbsp;Administración
        </a>
       </div>
      </div>{% endif %}

      <div class="accordion-group">
       <div class="accordion-heading">
        <a class="sbtn btn-default" href="/fences">
         <span class="icon icon-text-width"></span>
         &nbsp;&nbsp;Geocercas
        </a>
       </div>
      </div>
      <div class="accordion-group">
       <div class="accordion-heading">
        <a class="sbtn btn-default" href="{{ urlthis }}">
         <span class="fa fa-bar-chart-o"></span>
         &nbsp;&nbsp;Rastreo
        </a>
       </div>
      </div>
     </div>
    </div>
   </div>
   <!-- END LEFT SIDEBAR & LOGO -->

   <!-- RESPONSIVE NAVIGATION -->
   <div id="secondary" class="btn-group visible-xs">
    <button type="button" class="btn btn-info btn-sm dropdown-toggle" data-toggle="dropdown"><span class="icon icon-th-large"></span>&nbsp;&nbsp;Menú&nbsp;&nbsp;<span class="caret"></span></button>
    <ul class="dropdown-menu dropdown-info pull-right" role="menu">
      <li><a href="{{ HOME_URL }}">Inicio</a></li>{%if user.is_staff %}
      <li><a href="/admin">Administración</a></li>{% endif %}
      <li><a href="/fences">Geocercas</a></li>
      <li><a href="{{ urlthis }}">Rastreo</a></li>
      <li class="divider" style="border-bottom:1px solid #ddd; margin:0px; margin-top:5px;"></li>
      <li><a href="/logoff">Salir</a></li>
    </ul>
   </div>
      <!-- END RESPONSIVE NAVIGATION -->

   <!-- RIGHT NAV, CRUMBS, & CONTENT -->
   <div class="right">

    <div class="nav">
     <div class="bar">

      <!-- RESPONSIVE SMALL LOGO (HIDDEN BY DEFAULT) -->
      <div class="logo-small visible-xs"><img src="/static/img/logo.jpg"></div>

      <!-- NAV PILLS -->
      <ul class="nav nav-pills hidden-xs">
        <li class="active"><a href="{{ urlthis }}"><span class="fa fa-dashboard"></span>Rastreo</a></li>
        {%if urlprev %}<li><a href="{{ urlprev }}"><span class="fa fa-arrow-circle-left"></span>Día anterior</a></li>{% endif %}
        {%if urlnext %}<li><a href="{{ urlnext }}"><span class="fa fa-arrow-circle-right"></span>Día siguiente</a></li>{% endif %}
      </ul>

      <!-- ICON DROPDOWNS -->
      <div class="hov">
       <div class="btn-group">
        <a class="con" href="" data-toggle="dropdown"><span class="icon icon-user"></span><span class="label label-primary"></span></a>
        <ul class="dropdown-menu pull-right dropdown-profile" role="menu">
         <li class="title"><span class="icon icon-user"></span>&nbsp;&nbsp;Hola, {{ user.username }}!</li>
         <li><a href="/profile"><span class="fa fa-user"></span>Perfil</a></li>
         <li class="divider"></li>
         <li><a href="/logoff"><span class="fa fa-power-off"></span>Salir</a></li>
        </ul>
       </div>
      </div>
     </div>

     <!-- BREADCRUMBS -->
     <div class="crumbs">
      <ol class="breadcrumb hidden-xs">
       <li><i class="fa fa-home"></i> <a href="/">Inicio</a></li>
       <li class="active">Rastreo</li>
      </ol>
     </div>
    </div>

    <!-- BEGIN PAGE CONTENT -->
    <div class="content">
     <div class="page-h1">
      <h1>Rastreo <small>// Vehículo: {{ avl.name }} </small></h1>
     </div>

     <div class="col-md-12">
      <div class="alert alert-info" style="margin-bottom:0px;margin-top:10px;">
       <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
       <span class="icon icon-exclamation-sign"></span> <strong>Bienvenido a la página de Rastreo</strong>&nbsp;&nbsp;Aquí puedes ver la información de rastreo de tu vehículo {{ avl.name }}
      </div>
     </div>

	    <div class="col-md-12">
	     <div class="wdgt wdgt-warning" hide-btn="true">
	      <div class="wdgt-header">Recorrido
	      </div>
	      <div class="wdgt-body wdgt-map" style="padding-bottom:10px;height:500px;">
	       <div id="map-canvastwo"></div>
	      </div>
	      <style type="text/css">
	       #map-canvastwo { height: 100% }
	      </style>
	     </div>
	    </div>

    <div class="tbl">
     </div>
     <div class="tbl">

      <div class="col-md-4">
       <div class="wdgt wdgt-soft" hide-btn="false">
        <div class="wdgt-header">Geocercas</div>
        <div class="wdgt-body wdgt-table" style="padding-bottom:10px;">
         <table class="table table-hover table-striped">
          <thead>
            <tr>
	           <th>Hora</th>
	           <th>Geocerca</th>
            </tr>
          </thead>
          <tbody>{% for e in gf_events %}
            <tr><td >{{ e.time|time:"H:i" }}</td><td><span class="fa fa-sign-{{ e.dir}}"></span>&nbsp;&nbsp;{{ e.name }}</td></tr>
            {% endfor %}
          </tbody>
         </table>

        </div>
       </div>
{% if has_people %}
      <!--div class="col-md-4"-->
       <div class="wdgt wdgt-soft" hide-btn="false">
        <div class="wdgt-header">Reporte de pasajeros por horario</div>
        <div class="wdgt-body wdgt-table" style="padding-bottom:10px;">
         <table class="table table-hover table-striped">
          <thead>
            <tr>
	           <th>Sensor</th>
	           <th>Subidas</th>
	           <th>Bajadas</th>
            </tr>
          </thead>
          <tbody>{% for e in pcounters %}
            <tr><td >{{ e.name }}</td><td>{{ e.t1 }}</td><td>{{ e.t2 }}</td></tr>
            {% endfor %}
          </tbody>
         </table>

        </div>
       </div>
        <form id="tform" name="form1" action="" method="get">
        <input id="start_h" type="text" name="start" value="{{ Start_H }}">
        <input id="stop_h" type="text" name="stop" value="{{ Stop_H }}">
        <input id="imei" type="hidden" name="imei" value="{{ Imei }}">
        <input id="date" type="hidden" name="date" value="{{ Date }}">
        <input id="rounds" type="hidden" name="rounds" value="{{ ptimesjson }}">
        <button id="refresh_btn" type="submit">Actualizar</button>
        <button id="ticket_btn" onclick="{a=document.getElementById('tform');a.action='/tickets'; a.submit()}">Ticket</button>
        <button id="tarjetas_btn" onclick="{a=document.getElementById('tform');a.action='/tarjetas'; a.submit()}">Tarjetas</button>
        </form>
        <!-- form name="Ticket" action="/tickets" method="get">
        <input id="start_h" type="text" name="start" value="{{ Start_H }}">
        <input id="stop_h" type="text" name="stop" value="{{ Stop_H }}">
        <input id="imei" type="hidden" name="imei" value="{{ Imei }}">
        <input id="date" type="hidden" name="date" value="{{ Date }}">
        <button id="refresh_btn" type="submit">Ticket</button>
        </form -->
      <!--/div-->
{% endif %}

      </div>

      <div class="col-md-8">

{% if has_people %}
       <div class="wdgt wdgt-soft" hide-btn="false">
        <div class="wdgt-header">Reporte de pasajeros</div>
        <div class="wdgt-body wdgt-table" style="padding-bottom:10px;">
         <table class="table table-hover table-striped">
          <thead>
            <tr>
	           <th>Inicio</th>
	           <th>Fin</th>{% for i in pcounters %}
	           <th colspan="2">{{ i.name }}</th>{% endfor %}
            </tr>
          </thead>
          <tbody>{% for i in pdata %}
            <tr><td >{{ i.starth }}</td><td>{{ i.endh }}</td>{% for j in i.counts %}
                <td>{{ j.0 }}</td><td>{{ j.1 }}</td>{% endfor %}</tr>
          {% endfor %}</tbody>
         </table>

        </div>
       </div>
        <!---form name="GeoFence" action="" method="get">
        <input id="start_h" type="text" name="start" value="{{ Start_H }}">
        <input id="stop_h" type="text" name="stop" value="{{ Stop_H }}">
        <button id="refresh_btn" type="submit">Actualizar</button>
        </form-->
{% endif %}




       <!-- div class="wdgt wdgt-info" hide-btn="false">
        <div class="wdgt-header">Eventos</div>
        <div class="wdgt-body wdgt-table" style="padding-bottom:10px;">
         <table class="table table-hover table-striped">
          <thead>
            <tr>
	           <th>Hora</th>
	           <th>Evento</th>
	           <th>Distancia</th>
	           <th>Duración</th>
            </tr>
          </thead>
          <tbody>
           {% for e in events %}
            <tr><td >{%if e.points %}<a href="#{{ forloop.counter0 }}" onclick=showEvent({{ forloop.counter0 }})>{{ e.date|time:"H:i"  }}</a>{% else %}{{ e.date|time:"H:i"  }}{% endif %}</td>
             <td><span class="fa {{ e.iclass }}"></span>&nbsp;&nbsp;{{ e.sdesc }}</td><td>{% if e.km %}{{ e.km|floatformat:2 }} Km{% endif %}</td><td>{{ e.dtime }}</td></tr>
           {% endfor %}
          </tbody>
         </table>

        </div>
       </div>
      </div -->
	  
  
      <!---div class="col-md-6">
       <div class="wdgt wdgt-primary">
        <div class="wdgt-header">Registro de Velocidad
         <span style="float:right; position:relative; top:-2px; right:-2px;">
         </span>
        </div>
        <div class="wdgt-body" style="padding-bottom:10px;">
         <div id="placeholder" class="demo-placeholder" style="height:346px;margin:20px 5px;"></div>
        </div>
       </div>
      </div--->

     </div>

    </div>
    <!-- END PAGE CONTENT -->

   </div>
   <!-- END NAV, CRUMBS, & CONTENT -->

  </div>

  <!-- Default JS (DO NOT TOUCH) -->
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
  <script src="/static/lib/js/bootstrap.min.js"></script>
  <script src="/static/lib/js/hogan.min.js"></script>
  <script src="/static/lib/js/typeahead.min.js"></script>
  <script src="/static/lib/js/typeahead-example.js"></script>

  <!-- Adjustable JS -->
  <script src="/static/lib/js/soft-widgets.js"></script>
  <script src="/static/lib/js/flot/jquery.flot.js"></script>
  <script src="/static/lib/js/flot/jquery.flot.selection.js"></script>
  <script src="/static/lib/js/icheck.js"></script>
  <script type='text/javascript' src='//www.google.com/jsapi'></script>
  <!-- script type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=AIzaSyCJEVoE5Ix-7HPh0OJWDLV0LgnaFAVslmE"></script -->
  <script type="text/javascript" src="//maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyDAJgTMNvIGnRCrnqH6Ok8kayI-shZhRPI"></script>
  <script>

   var  map;
   var infoWindow = new google.maps.InfoWindow({content: "info", disableAutoPan: true});

   CIRCLEico = { path: google.maps.SymbolPath.CIRCLE, scale: 6,strokeOpacity:0,fillColor:"lightblue",fillOpacity:1};
   ARROWico  = { path: google.maps.SymbolPath.CIRCLE, scale: 3,strokeOpacity:0,fillColor:"darkblue",fillOpacity:.1}
   fwdIcons  = [{icon:{ path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW, scale: 3,strokeOpacity:0,fillColor:"blue",fillOpacity:1}, repeat: '100px'}];

	{% for i in overlays %}
	path{{ forloop.counter }} = new google.maps.MVCArray(google.maps.geometry.encoding.decodePath("{{ i|escapejs }}"));
	poly{{ forloop.counter }} = new google.maps.Polyline({ strokeWeight: 10,strokeOpacity: 0.5, strokeColor: '#F00010',path: path{{ forloop.counter }},draggable: false});
	{% endfor %}

	// LIS
	lisObjects = [{% for i in lis %} {
		marker: new google.maps.Marker({ map: null, draggable: false,
			position: new google.maps.LatLng( {{ i.position.y }},{{ i.position.x }}),
			icon: { path: google.maps.SymbolPath.CIRCLE, scale: 6*{{ i.peak }},strokeOpacity:0,fillColor: "{{ i.color }}",fillOpacity:1},
			title: "Pico: {{ i.peak|floatformat:2 }}" }),
		info: "{{ i.date|time:"H:i" }}<br>Pico: {{ i.peak|floatformat:2 }}<br>Duración: {{ i.duration }}"},
	{% endfor %} ]

	// {{ ntracks }} 
	trackObjects = [ {% for e in tracks %}{
		bounds: new google.maps.LatLngBounds( new google.maps.LatLng({{ e.bounds.0.y }},{{ e.bounds.0.x }}),
											  new google.maps.LatLng({{ e.bounds.1.y }},{{ e.bounds.1.x }})),
		marker: new google.maps.Marker({ map: null, draggable: false,
			  position: new google.maps.LatLng( {{ e.route.0.y }}, {{ e.route.0.x }}), icon: {{ e.icon }} }),
		info: "<h2>{{ e.start|time:"H:i" }}</h2>Distancia {{ e.distance.m|floatformat:"0" }}m<br>Máxima: {{ e.maxspeed }} Km/h<br>Promedio: {{ e.speed }}Km/h",
		{% if e.hasPoly %}poly: new google.maps.Polyline({ path: new google.maps.MVCArray(google.maps.geometry.encoding.decodePath("{{ e.poly|escapejs }}")),map: null, strokeColor: '{{ e.color }}', icons:fwdIcons }){% else %}poly: null{% endif %},
	},{% endfor %}];

	busMarker = new google.maps.Marker({ map: null, draggable: false,
		position: new google.maps.LatLng( {{avl.y }}, {{ avl.x }}), icon: "/static/{{ avl.icon }}" });
	
   eventObjects = [{% for e in events %} {
        {% if e.points %}
            bounds: new google.maps.LatLngBounds( new google.maps.LatLng({{ e.bounds.sw.latitude }},{{ e.bounds.sw.longitude }}),
                                                  new google.maps.LatLng({{ e.bounds.ne.latitude }},{{ e.bounds.ne.longitude }})),
            marker: new google.maps.Marker({ map: null, draggable: false,
                  position: new google.maps.LatLng( {{ e.points.0.1 }}, {{ e.points.0.0 }}), icon: {{ e.icon }} }),
            info: "<h2>{{e.time}}</h2>{{ e.desc }}",
        {% else %}
            marker: null,
        {% endif %}
        {% if e.points|length < 2 %}
            poly: null,
        {% else %}
            poly: new google.maps.Polyline({ path: new google.maps.MVCArray( [{% for p in e.points %}new google.maps.LatLng({{ p.1 }},{{ p.0 }}),{% endfor %}]),
                map: null, strokeColor: 'blue', icons:fwdIcons })
        {% endif%}
        },{% endfor %}];

   function click()
   {
       n = this.evIndex;
       setTimeout(function(){eventObjects[n].poly.setOptions({strokeColor:"#0000FF", strokeWeight: 2});},1500);
       eventObjects[n].poly.setOptions({strokeColor:"#FF0000", strokeWeight: 5});
       infoWindow.close();
       infoWindow.setContent(eventObjects[n].info);
       infoWindow.setPosition(eventObjects[n].marker.position);      // event.latLng
       infoWindow.open(map)
       //showEvent(i);
   }

   function tClick()
   {
       n = this.evIndex;
       if (trackObjects[n].poly)
       {
              trackObjects[n].poly.setOptions({strokeColor:"#FF0000", strokeWeight: 5});
              setTimeout(function(){trackObjects[n].poly.setOptions({strokeColor:"#0000FF", strokeWeight: 2});},1500);
       }
       infoWindow.close();
       infoWindow.setContent(trackObjects[n].info);
       infoWindow.setPosition(trackObjects[n].marker.position);      // event.latLng
       infoWindow.open(map)
       //showEvent(i);
   }

   function lisClick()
   {
       n = this.evIndex;
       infoWindow.close();
       infoWindow.setContent(lisObjects[n].info);
       infoWindow.setPosition(lisObjects[n].marker.position);      // event.latLng
       infoWindow.open(map)
       //showEvent(i);
   }

   function showEvent(ev)
   {
       if (eventObjects[ev].bounds)
       {
           map.fitBounds(eventObjects[ev].bounds);
           if (eventObjects[ev].poly)
           {
               showNoneBut(ev);
               setTimeout(function(){eventObjects[ev].poly.setOptions({strokeColor:"#0000FF", strokeWeight: 2}); showAll();},3500);
               eventObjects[ev].poly.setOptions({strokeColor:"#FF0000", strokeWeight: 5});
               infoWindow.close();
               infoWindow.setContent(eventObjects[ev].info);
               infoWindow.setPosition(eventObjects[ev].marker.position);      // event.latLng
               infoWindow.open(map)
           }
       }
   }

   function showTrack(ev)
   {
      map.fitBounds(trackObjects[ev].bounds);
      if (trackObjects[ev].poly)
      {
          setTimeout(function(){trackObjects[ev].poly.setOptions({strokeColor:"#0000FF", strokeWeight: 2}); },13500);
          trackObjects[ev].poly.setOptions({strokeColor:"#FF0000", strokeWeight: 5});
          infoWindow.close();
          infoWindow.setContent(trackObjects[ev].info);
          infoWindow.setPosition(trackObjects[ev].marker.position);      // event.latLng
          infoWindow.open(map);
          $("html, body").animate({scrollTop: $("#map-canvastwo").position()},400);
      }
   }
   
   function initializemap() {
      map = new google.maps.Map(document.getElementById("map-canvastwo"), {mapTypeId: google.maps.MapTypeId.ROADMAP});
      {% if bounds %}
      map.fitBounds(new google.maps.LatLngBounds( new google.maps.LatLng({{ bounds.sw.latitude}},{{ bounds.sw.longitude }}), new google.maps.LatLng({{ bounds.ne.latitude}},{{ bounds.ne.longitude }})));
	  {% if display_pos %}
	  busMarker.setMap(map);
	  {% endif %}
	  {% for i in overlays %}poly{{ forloop.counter }}.setMap(map);
	  //  <!  {{ avl.x }}, {{ avl.y }}, {{avl.icon}},  {{ display_pos }} -->
	  {% endfor%}	  
      for (i = 0; i < eventObjects.length; i++) {
          if (eventObjects[i].marker) {
              eventObjects[i].marker.setMap(map);
              eventObjects[i].marker.evIndex = i;
              google.maps.event.addListener(eventObjects[i].marker,'click',click);
          }
          if (eventObjects[i].poly) {
              eventObjects[i].poly.setMap(map);
              eventObjects[i].poly.evIndex = i;
              google.maps.event.addListener(eventObjects[i].poly,'click',click);
          }
      }
      for (i = 0; i < trackObjects.length; i++) {
          if (trackObjects[i].marker) {
              trackObjects[i].marker.setMap(map);
              trackObjects[i].marker.evIndex = i;
              google.maps.event.addListener(trackObjects[i].marker,'click',tClick);
          }
          if (trackObjects[i].poly) {
              trackObjects[i].poly.setMap(map);
              trackObjects[i].poly.evIndex = i;
              google.maps.event.addListener(trackObjects[i].poly,'click',tClick);
          }
      }
      for (i = 0; i < lisObjects.length; i++) {
		lisObjects[i].marker.setMap(map);
		lisObjects[i].marker.evIndex = i;
        google.maps.event.addListener(lisObjects[i].marker,'click',lisClick);
	  }
      {% endif %}
   }
   google.maps.event.addDomListener(window, 'load', initializemap);

   function drawFlot(){

    var data = [{
     label: "Máxima", lines: { show: true}, points: {show: false}, yaxis: 1,
     data: [[0, 100], [2, 50], [4, 63.5], [6, 150], [8, 180], [10, 30]]
    }, {
     label: "Promedio", lines: { show: true }, points: {show: false}, yaxis: 1,
     data: [[0.5, 50], [2.5, 55], [4.5, 48], [6.5, 41], [8.5, 57], [10.5, 37]]
    }];

    var options = {
     series: {

     },
     colors: [ '#E48784', '#F2BA68'],
     legend: {
      noColumns: 2
     },
     xaxis: { min:0, max:24,
      ticks: [
       [ 1, "1:00" ],
       [ 2,""],// "2:00" ],
       [ 3, "3:00" ],
       [ 4,""],// "4:00" ],
       [ 5, "5:00" ],
       [ 6,""],// "6:00" ],
       [ 7, "7:00" ],
       [ 8,""],// "8:00" ],
       [ 9, "9:00" ],
       [10,""],// "10:00" ],
       [11, "11:00" ],
       [12,""],// "12:00" ],
       [13, "13:00" ],
       [14,""],// "14:00" ],
       [15, "15:00" ],
       [16,""],// "16:00" ],
       [17, "17:00" ],
       [18,""],// "18:00" ],
       [19, "19:00" ],
       [20,""],// "20:00" ],
       [21, "21:00" ],
       [22,""],// "22:00" ],
       [23, "23:00" ],
      ]
     },
     yaxes: [{ min: 0, max:250, show:true},{ position:"right",min: 0, max:250, show:true},],
     //selection: {mode: "x" },
    };

    var placeholder = $("#placeholder");

    placeholder.bind("plotselected", function (event, ranges) {

     $("#selection").text(ranges.xaxis.from.toFixed(1) + " to " + ranges.xaxis.to.toFixed(1));

     var zoom = $("#zoom").attr("checked");

     if (zoom) {
      plot = $.plot(placeholder, data, $.extend(true, {}, options, {
       xaxis: {
        min: ranges.xaxis.from,
        max: ranges.xaxis.to
       },
      }));
     }
    });

    placeholder.bind("plotunselected", function (event) {
     $("#selection").text("");
    });

    var plot = $.plot(placeholder, data, options);

    //$("#clearSelection").click(function () {
    // plot.clearSelection();
    //});

    //plot.setSelection({
    //  xaxis: {
    //   from: 3.5,
    //   to: 5.5
    //  }
    // });

   }

   $(document).ready(function() {
    //$('.flat-checkbox').iCheck({
    // checkboxClass: 'icheckbox_flat-purple',
    // radioClass: 'iradio_flat-purple'
    //});
   });



  </script>

 </body>
</html>
